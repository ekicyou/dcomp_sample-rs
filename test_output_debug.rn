use pasta_stdlib::*;

pub mod pasta {
    use pasta_stdlib::*;

    pub fn jump(ctx, label, filters, args) {
        let label_fn = label_selector(label, filters);
        for a in label_fn(ctx, args) { yield a; }
    }

    pub fn call(ctx, label, filters, args) {
        let label_fn = label_selector(label, filters);
        for a in label_fn(ctx, args) { yield a; }
    }

    pub fn label_selector(label, filters) {
        let id = pasta_stdlib::select_label_to_id(label, filters);
        match id {
            _ => |ctx, args| {
                yield Error(`ラベルID ${id} が見つかりませんでした。`);
            },
        }
    }
}
