# Feature Matrix: 未実装機能一覧

**Analysis Date**: 2025-11-15  
**Reference**: product.md, README.md, brainstorming-next-features

---

## 機能マトリクス

| 機能分類 | 機能名 | 実装状況 | 優先度 | 複雑度 | 推定工数 | 備考 |
|---------|-------|---------|-------|-------|----------|------|
| **描画機能** |
| 描画 | 横書きテキスト | 未実装 | 高 | 中 | 2週間 | DirectWrite統合、Phase 4候補 |
| 描画 | 縦書きテキスト | 未実装 | 高 | 高 | 4週間 | プロダクト最終目標、Phase 6候補 |
| 描画 | 画像表示（PNG等） | 未実装 | 高 | 低 | 1週間 | WIC統合、Phase 5候補 |
| 描画 | アニメーション | 未実装 | 中 | 中 | 3週間 | Windows Animation API |
| 描画 | グラデーション | 未実装 | 低 | 低 | 1週間 | D2D1GradientBrush |
| 描画 | エフェクト（影・ぼかし） | 未実装 | 低 | 中 | 2週間 | D2D1Effect |
| 描画 | 複雑な図形（パス） | 未実装 | 中 | 低 | 1週間 | D2D1PathGeometry |
| 描画 | 円・楕円（単独ウィジット） | 未実装 | 低 | 低 | 3日 | Ellipseウィジット |
| 描画 | 三角形（単独ウィジット） | 未実装 | 低 | 低 | 3日 | Triangleウィジット |
| **ウィンドウ管理** |
| ウィンドウ | 完全な透過ウィンドウ | 部分実装 | 高 | 低 | 1週間 | DirectComposition透過、Phase 3候補 |
| ウィンドウ | ヒットテスト | 未実装 | 高 | 中 | 2週間 | WM_NCHITTEST、Phase 3候補 |
| ウィンドウ | ウィンドウ位置動的変更 | 未実装 | 中 | 低 | 3日 | SetWindowPos統合 |
| ウィンドウ | ウィンドウサイズ動的変更 | 未実装 | 中 | 低 | 3日 | サイズ変更処理 |
| ウィンドウ | マルチモニタ対応 | 未実装 | 低 | 中 | 1週間 | DPI対応含む |
| ウィンドウ | ウィンドウZ順序管理 | 未実装 | 低 | 低 | 3日 | SetWindowPos(HWND_TOP等) |
| **レイアウト** |
| レイアウト | taffy統合 | 未実装 | 高 | 中 | 3週間 | 依存ライブラリ既存 |
| レイアウト | ウィジット自動配置 | 未実装 | 高 | 中 | 2週間 | taffy統合後 |
| レイアウト | レスポンシブレイアウト | 未実装 | 中 | 中 | 2週間 | ウィンドウサイズ変更対応 |
| レイアウト | 制約ベースレイアウト | 未実装 | 中 | 高 | 4週間 | taffy機能活用 |
| レイアウト | グリッドレイアウト | 未実装 | 低 | 中 | 2週間 | taffyサポート |
| レイアウト | フレックスレイアウト | 未実装 | 低 | 中 | 2週間 | taffyサポート |
| **イベント処理** |
| イベント | マウスクリック | 未実装 | 高 | 低 | 1週間 | WM_LBUTTONDOWN等 |
| イベント | マウスドラッグ | 未実装 | 高 | 中 | 1週間 | マウス追跡 |
| イベント | マウスホバー | 未実装 | 中 | 低 | 3日 | WM_MOUSEMOVE |
| イベント | キーボード入力 | 未実装 | 中 | 中 | 1週間 | WM_KEYDOWN等 |
| イベント | タイマーイベント | 未実装 | 中 | 低 | 3日 | SetTimer統合 |
| イベント | カスタムイベント | 未実装 | 低 | 低 | 1週間 | ECSイベントシステム |
| イベント | イベントバブリング | 未実装 | 低 | 中 | 2週間 | 親子階層でのイベント伝播 |
| **ウィジット** |
| ウィジット | ボタン | 未実装 | 高 | 中 | 1週間 | クリックイベント統合 |
| ウィジット | テキストボックス | 未実装 | 中 | 高 | 3週間 | IME統合必要 |
| ウィジット | ラベル | 未実装 | 高 | 低 | 3日 | テキストレンダリング統合 |
| ウィジット | 画像ウィジット | 未実装 | 高 | 低 | 3日 | WIC統合後 |
| ウィジット | スクロールビュー | 未実装 | 低 | 高 | 4週間 | クリッピング・スクロール処理 |
| ウィジット | リストビュー | 未実装 | 低 | 高 | 4週間 | 仮想化スクロール |
| **その他** |
| テスト | ユニットテスト拡充 | 不足 | 高 | 低 | 2週間 | 継続的改善 |
| テスト | 統合テスト拡充 | 不足 | 中 | 中 | 2週間 | 継続的改善 |
| ログ | 構造化ログ | 未実装 | 中 | 低 | 1週間 | serde_json統合 |
| パフォーマンス | FPS計測機能 | 未実装 | 中 | 低 | 3日 | 現状は手動確認 |
| パフォーマンス | メモリ計測機能 | 未実装 | 中 | 低 | 3日 | 診断ツール |
| パフォーマンス | プロファイラ統合 | 未実装 | 低 | 中 | 1週間 | tracy等 |
| ドキュメント | API docコメント拡充 | 不足 | 高 | 低 | 2週間 | 継続的改善 |
| ドキュメント | アーキテクチャ図 | 未実装 | 高 | 低 | 3日 | architecture.md |
| ドキュメント | チュートリアル | 未実装 | 中 | 中 | 2週間 | 新規参加者向け |
| ドキュメント | サンプル拡充 | 不足 | 中 | 低 | 1週間 | 継続的改善 |

---

## 分類別サマリ

### 描画機能（9項目）
- **高優先度**: 横書きテキスト、縦書きテキスト、画像表示
- **中優先度**: アニメーション、複雑な図形
- **低優先度**: グラデーション、エフェクト、単独ウィジット（円・三角）

### ウィンドウ管理（6項目）
- **高優先度**: 完全な透過、ヒットテスト
- **中優先度**: 位置・サイズ動的変更
- **低優先度**: マルチモニタ、Z順序管理

### レイアウト（6項目）
- **高優先度**: taffy統合、ウィジット自動配置
- **中優先度**: レスポンシブ、制約ベース
- **低優先度**: グリッド、フレックス

### イベント処理（7項目）
- **高優先度**: マウスクリック、マウスドラッグ
- **中優先度**: マウスホバー、キーボード入力、タイマー
- **低優先度**: カスタムイベント、イベントバブリング

### ウィジット（6項目）
- **高優先度**: ボタン、ラベル、画像ウィジット
- **中優先度**: テキストボックス
- **低優先度**: スクロールビュー、リストビュー

### その他（11項目）
- **高優先度**: テスト拡充、API docコメント、アーキテクチャ図
- **中優先度**: ログ、パフォーマンス計測、チュートリアル
- **低優先度**: プロファイラ統合

---

## 統計

- **総機能数**: 45項目
- **未実装**: 38項目
- **部分実装**: 1項目（透過ウィンドウ）
- **不足**: 6項目（テスト・ドキュメント）

### 優先度別
- **高優先度**: 16項目
- **中優先度**: 19項目
- **低優先度**: 10項目

### 複雑度別
- **低複雑度**: 24項目（1-3日 or 1週間）
- **中複雑度**: 16項目（2-3週間）
- **高複雑度**: 5項目（4週間以上）

---

## プロダクトビジョンとのギャップ

### Core Capabilities（product.md）とのマッピング

1. **ウィンドウ管理** ✅ Phase 1で完了
2. **2D描画** ⚠️ 部分実装（Rectangle, 基本図形は完了、テキスト・画像は未実装）
3. **縦書きテキスト** ❌ 未実装（最終目標）
4. **透過ウィンドウ** ⚠️ 部分実装（透過は機能、ヒットテストは未実装）
5. **画像表示** ❌ 未実装（WIC統合必要）

### 達成度
- **完了**: 1/5 (20%)
- **部分実装**: 2/5 (40%)
- **未実装**: 2/5 (40%)

---

## README.mdロードマップとの対応

- ✅ **Phase 1: ウィンドウの誕生** - 完了
- ⚠️ **Phase 2: はじめての描画** - 部分完了（図形のみ、テキスト未実装）
- ❌ **Phase 3: 透過ウィンドウとヒットテスト** - 未実装（次候補）
- ❌ **Phase 4: 文字との対話（横書き）** - 未実装（次候補）
- ❌ **Phase 5: 画像の表示と透過処理** - 未実装（次候補）
- ❌ **Phase 6: 縦書きの世界へ** - 未実装（最終目標）
- ❌ **Phase 7: 高度なインタラクション** - 未実装

---

## 関連ドキュメント

- [PRIORITY_ANALYSIS.md](./PRIORITY_ANALYSIS.md) - 優先順位分析（インパクト×難易度）
- [NEXT_MILESTONES.md](./NEXT_MILESTONES.md) - 次期マイルストーン提案

---

_Feature Matrix completed on 2025-11-15_
