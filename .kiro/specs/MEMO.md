# AIに与える指示など

## 初期化
```sh
/kiro-spec-init "

"
```

## 要件不安への回答

### MonitorとTaffyレイアウトの関係 (中程度の懸念)
問題: MonitorエンティティがTaffyレイアウト計算でどう扱われるか曖昧
詳細:
Req 4 AC3: "Monitorの物理サイズと座標をTaffyStyleのsizeとinsetに反映"とあるが、insetの使用方法が不明
Monitorは単なるメタデータか、レイアウトコンテナーとして機能するのか不明
MonitorにTaffyStyleを付与するのか、それとも別の方法で扱うのか不明確
影響: Requirement 4, 5
推奨対応: 設計フェーズでMonitorのTaffyノード設定を明確化

- 直接利用することは「ありません」
- ウィンドウの配置位置を決めるために（たとえば下に吸着するなど）参照するための情報源です。
- ウィンドウがモニターに属すれば厳密にレイアウト計算に参加できますが、状況によりウィンドウがモニター間にまたがることもあり、いわゆるツリー階層を構築することは不可能です。
- これは確認、調査をお願い。taffyのレイアウト計算では、親要素「ではない」レイアウト要素を、レイアウト計算上の親として参照させることは可能でしょうか？モニター要素はこういった要素に該当します。


### Widget階層との統合 (低程度の懸念)
問題: 既存のWindow → Widget階層が新システムでどう動作するか不明
詳細:
既存WidgetツリーがLayoutRoot → {Monitor, Window} → Widget階層にどう統合されるか未定義
WidgetがMonitorの子になる可能性があるのか不明（設計的にはWindowの子のみと思われるが明示なし）
Widget対するTaffyStyleの扱いが新階層で変わるか未定義
影響: Requirement 2, 4, 5, 10
推奨対応: 既存Widget階層は変更なし（Windowの子のまま）と明記すれば解決

### LayoutRootシングルトン管理 (低程度の懸念)
問題: LayoutRootエンティティの生成・破棄タイミングと一意性保証が不明確
詳細:
Req 1 AC5: "システム初期化時にシングルトン作成"とあるが、"システム初期化"が何を指すのか不明（App起動時？最初のWindow作成時？）
複数のLayoutRootが誤って作成された場合のエラー処理が未定義
アプリケーション終了時のLayoutRootクリーンアップ手順が不明
影響: Requirement 1, 2
推奨対応: 設計フェーズでシングルトン管理の詳細を定義

