    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.12s
     Running tests\comprehensive_rune_vm_test.rs (target\debug\deps\comprehensive_rune_vm_test-711615b547c4280c.exe)

running 1 test
test test_comprehensive_control_flow_rune_compile ... FAILED

failures:

---- test_comprehensive_control_flow_rune_compile stdout ----
=== Transpiled Rune Code (first 100 lines) ===
  1: use pasta_stdlib::*;
  2: 
  3: pub mod 繝｡繧､繝ｳ_1 {
  4:     use pasta::*;
  5:     use pasta_stdlib::*;
  6:     use crate::actors::*;
  7: 
  8:     pub fn __start__(ctx, args) {
  9:         let 繧ｫ繧ｦ繝ｳ繧ｿ = 10;
 10:         ctx.actor = 縺輔￥繧・
 11:         yield Actor(ctx.actor.name);
 12:         yield pasta_stdlib::word(ctx, "謖ｨ諡ｶ", []);
 13:         ctx.actor = 縺・↓繧・≧;
 14:         yield Actor(ctx.actor.name);
 15:         yield pasta_stdlib::word(ctx, "繝ｭ繝ｼ繧ｫ繝ｫ髢｢謨ｰ", ["縺ｯ繧阪・"]);
 16:         for a in call(ctx, "閾ｪ蟾ｱ邏ｹ莉・, #{}, []) { yield a; }
 17:         let 繧ｫ繧ｦ繝ｳ繧ｿ = 1;
 18:         for a in call(ctx, "繧ｫ繧ｦ繝ｳ繝郁｡ｨ遉ｺ", #{}, [繧ｫ繧ｦ繝ｳ繧ｿ]) { yield a; }
 19:         for a in jump(ctx, "莨夊ｩｱ蛻・ｲ・, #{}, []) { yield a; }
 20:     }
 21:     pub fn 閾ｪ蟾ｱ邏ｹ莉祇1(ctx, args) {
 22:         ctx.actor = 縺輔￥繧・
 23:         yield Actor(ctx.actor.name);
 24:         yield Talk("遘√・縺輔￥繧峨〒縺吶・);
 25:         ctx.actor = 縺・↓繧・≧;
 26:         yield Actor(ctx.actor.name);
 27:         yield Talk("蜒輔・縺・↓繧・≧縺繧医・);
 28:         for a in call(ctx, "雜｣蜻ｳ邏ｹ莉・, #{}, []) { yield a; }
 29:     }
 30: 
 31:     pub fn 雜｣蜻ｳ邏ｹ莉祇1(ctx, args) {
 32:         ctx.actor = 縺輔￥繧・
 33:         yield Actor(ctx.actor.name);
 34:         yield Talk("遘√・雜｣蜻ｳ縺ｯ隱ｭ譖ｸ縺ｧ縺吶・);
 35:         ctx.actor = 縺・↓繧・≧;
 36:         yield Actor(ctx.actor.name);
 37:         yield Talk("蜒輔・繧ｲ繝ｼ繝縺悟･ｽ縺阪・);
 38:     }
 39: 
 40:     pub fn 繧ｫ繧ｦ繝ｳ繝郁｡ｨ遉ｺ_1(ctx, args) {
 41:         ctx.actor = 縺輔￥繧・
 42:         yield Actor(ctx.actor.name);
 43:         yield Talk("繧ｫ繧ｦ繝ｳ繧ｿ繝ｼ縺ｯ・・､縺ｧ縺吶・);
 44:     }
 45: 
 46:     pub fn 莨夊ｩｱ蛻・ｲ神1(ctx, args) {
 47:         ctx.actor = 縺輔￥繧・
 48:         yield Actor(ctx.actor.name);
 49:         yield pasta_stdlib::word(ctx, "蝣ｴ謇縺ｮ螟ｩ豌励・", []);
 50:         yield pasta_stdlib::word(ctx, "螟ｩ豌励□縺ｭ", []);
 51:         yield Talk("縲・);
 52:         ctx.actor = 縺・↓繧・≧;
 53:         yield Actor(ctx.actor.name);
 54:         yield Talk("縺昴≧縺縺ｭ縲・);
 55:         for a in jump(ctx, "蛻･縺ｮ隧ｱ鬘・, #{}, []) { yield a; }
 56:     }
 57: 
 58:     pub fn 蛻･縺ｮ隧ｱ鬘契1(ctx, args) {
 59:         ctx.actor = 縺輔￥繧・
 60:         yield Actor(ctx.actor.name);
 61:         yield Talk("縺ｨ縺薙ｍ縺ｧ縲∵・譌･縺ｯ菴輔☆繧具ｼ・);
 62:         ctx.actor = 縺・↓繧・≧;
 63:         yield Actor(ctx.actor.name);
 64:         yield Talk("縺ｾ縺豎ｺ繧√※縺ｪ縺・↑縺√・);
 65:         pub fn 繝ｭ繝ｼ繧ｫ繝ｫ髢｢謨ｰ(ctx, args) {
 66:         let 繝｡繝・そ繝ｼ繧ｸ = args[0];
 67:         ctx.actor = 縺・↓繧・≧;
 68:         yield Actor(ctx.actor.name);
 69:         yield Talk(`繝ｭ繝ｼ繧ｫ繝ｫ髢｢謨ｰ縺悟他縺ｰ繧後∪縺励◆: ${繝｡繝・そ繝ｼ繧ｸ}`);
 70:         }
 71:     }
 72: 
 73: }
 74: 
 75: pub mod __pasta_trans2__ {
 76:     pub fn label_selector(label, filters) {
 77:         let id = pasta_stdlib::select_label_to_id(label, filters);
 78:         match id {
 79:             1 => crate::繝｡繧､繝ｳ_1::__start__,
 80:             2 => crate::繝｡繧､繝ｳ_1::閾ｪ蟾ｱ邏ｹ莉祇1,
 81:             3 => crate::繝｡繧､繝ｳ_1::雜｣蜻ｳ邏ｹ莉祇1,
 82:             4 => crate::繝｡繧､繝ｳ_1::繧ｫ繧ｦ繝ｳ繝郁｡ｨ遉ｺ_1,
 83:             5 => crate::繝｡繧､繝ｳ_1::莨夊ｩｱ蛻・ｲ神1,
 84:             6 => crate::繝｡繧､繝ｳ_1::蛻･縺ｮ隧ｱ鬘契1,
 85:             _ => |_ctx, _args| { yield pasta_stdlib::Error(`繝ｩ繝吶ΝID ${id} 縺瑚ｦ九▽縺九ｊ縺ｾ縺帙ｓ縺ｧ縺励◆縲Ａ); },
 86:         }
 87:     }
 88: }
 89: 
 90: pub mod pasta {
 91:     pub fn jump(ctx, label, filters, args) {
 92:         let func = crate::__pasta_trans2__::label_selector(label, filters);
 93:         for a in func(ctx, args) { yield a; }
 94:     }
 95: 
 96:     pub fn call(ctx, label, filters, args) {
 97:         let func = crate::__pasta_trans2__::label_selector(label, filters);
 98:         for a in func(ctx, args) { yield a; }
 99:     }
100: }
... (100 lines total)

笶・Rune VM compilation FAILED!
Error details: BuildError {
    kind: Default,
}

thread 'test_comprehensive_control_flow_rune_compile' (30884) panicked at crates\pasta\tests\comprehensive_rune_vm_test.rs:61:13:
Rune compilation failed for comprehensive_control_flow.pasta
stack backtrace:
   0: std::panicking::panic_handler
             at /rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234/library\std\src\panicking.rs:698
   1: core::panicking::panic_fmt
             at /rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234/library\core\src\panicking.rs:80
   2: comprehensive_rune_vm_test::test_comprehensive_control_flow_rune_compile
             at .\tests\comprehensive_rune_vm_test.rs:61
   3: comprehensive_rune_vm_test::test_comprehensive_control_flow_rune_compile::closure$0
             at .\tests\comprehensive_rune_vm_test.rs:7
   4: core::ops::function::FnOnce::call_once<comprehensive_rune_vm_test::test_comprehensive_control_flow_rune_compile::closure_env$0,tuple$<> >
             at C:\rust\up\toolchains\stable-x86_64-pc-windows-msvc\lib\rustlib\src\rust\library\core\src\ops\function.rs:250
   5: core::ops::function::FnOnce::call_once
             at /rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234/library\core\src\ops\function.rs:250
note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.


failures:
    test_comprehensive_control_flow_rune_compile

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.27s

error: test failed, to rerun pass `-p pasta --test comprehensive_rune_vm_test`
